{"ast":null,"code":"import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\n\n// Estado inicial\nconst initialState = {\n  items: [],\n  // lista de matérias-primas\n  status: 'idle',\n  // idle | loading | succeeded | failed\n  error: null\n};\n\n// Async thunk para buscar matérias-primas do backend\nexport const fetchRawMaterials = createAsyncThunk('rawMaterials/fetchRawMaterials', async () => {\n  const response = await fetch(\"http://localhost:8080/raw-materials\"); // seu endpoint\n  if (!response.ok) throw new Error(\"Failed to fetch raw materials\");\n  return await response.json();\n});\nconst rawMaterialSlice = createSlice({\n  name: 'rawMaterials',\n  initialState,\n  reducers: {\n    adjustStock(state, action) {\n      // Exemplo: action.payload = { id, quantity }\n      const {\n        id,\n        quantity\n      } = action.payload;\n      const rm = state.items.find(r => r.rawMaterialId === id);\n      if (rm) rm.currentStock = quantity;\n    }\n  },\n  extraReducers(builder) {\n    builder.addCase(fetchRawMaterials.pending, state => {\n      state.status = 'loading';\n    }).addCase(fetchRawMaterials.fulfilled, (state, action) => {\n      state.status = 'succeeded';\n      state.items = action.payload;\n    }).addCase(fetchRawMaterials.rejected, (state, action) => {\n      state.status = 'failed';\n      state.error = action.error.message;\n    });\n  }\n});\nexport const {\n  adjustStock\n} = rawMaterialSlice.actions;\nexport default rawMaterialSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","initialState","items","status","error","fetchRawMaterials","response","fetch","ok","Error","json","rawMaterialSlice","name","reducers","adjustStock","state","action","id","quantity","payload","rm","find","r","rawMaterialId","currentStock","extraReducers","builder","addCase","pending","fulfilled","rejected","message","actions","reducer"],"sources":["D:/area/Teste-Projedata/frontend/src/redux/RawMaterialSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\n\r\n// Estado inicial\r\nconst initialState = {\r\n  items: [],      // lista de matérias-primas\r\n  status: 'idle', // idle | loading | succeeded | failed\r\n  error: null\r\n};\r\n\r\n// Async thunk para buscar matérias-primas do backend\r\nexport const fetchRawMaterials = createAsyncThunk(\r\n  'rawMaterials/fetchRawMaterials',\r\n  async () => {\r\n    const response = await fetch(\"http://localhost:8080/raw-materials\"); // seu endpoint\r\n    if (!response.ok) throw new Error(\"Failed to fetch raw materials\");\r\n    return await response.json();\r\n  }\r\n);\r\n\r\nconst rawMaterialSlice = createSlice({\r\n  name: 'rawMaterials',\r\n  initialState,\r\n  reducers: {\r\n    adjustStock(state, action) {\r\n      // Exemplo: action.payload = { id, quantity }\r\n      const { id, quantity } = action.payload;\r\n      const rm = state.items.find(r => r.rawMaterialId === id);\r\n      if (rm) rm.currentStock = quantity;\r\n    }\r\n  },\r\n  extraReducers(builder) {\r\n    builder\r\n      .addCase(fetchRawMaterials.pending, (state) => {\r\n        state.status = 'loading';\r\n      })\r\n      .addCase(fetchRawMaterials.fulfilled, (state, action) => {\r\n        state.status = 'succeeded';\r\n        state.items = action.payload;\r\n      })\r\n      .addCase(fetchRawMaterials.rejected, (state, action) => {\r\n        state.status = 'failed';\r\n        state.error = action.error.message;\r\n      });\r\n  }\r\n});\r\n\r\nexport const { adjustStock } = rawMaterialSlice.actions;\r\n\r\nexport default rawMaterialSlice.reducer;\r\n"],"mappings":"AAAA,SAASA,WAAW,EAAEC,gBAAgB,QAAQ,kBAAkB;;AAEhE;AACA,MAAMC,YAAY,GAAG;EACnBC,KAAK,EAAE,EAAE;EAAO;EAChBC,MAAM,EAAE,MAAM;EAAE;EAChBC,KAAK,EAAE;AACT,CAAC;;AAED;AACA,OAAO,MAAMC,iBAAiB,GAAGL,gBAAgB,CAC/C,gCAAgC,EAChC,YAAY;EACV,MAAMM,QAAQ,GAAG,MAAMC,KAAK,CAAC,qCAAqC,CAAC,CAAC,CAAC;EACrE,IAAI,CAACD,QAAQ,CAACE,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,+BAA+B,CAAC;EAClE,OAAO,MAAMH,QAAQ,CAACI,IAAI,CAAC,CAAC;AAC9B,CACF,CAAC;AAED,MAAMC,gBAAgB,GAAGZ,WAAW,CAAC;EACnCa,IAAI,EAAE,cAAc;EACpBX,YAAY;EACZY,QAAQ,EAAE;IACRC,WAAWA,CAACC,KAAK,EAAEC,MAAM,EAAE;MACzB;MACA,MAAM;QAAEC,EAAE;QAAEC;MAAS,CAAC,GAAGF,MAAM,CAACG,OAAO;MACvC,MAAMC,EAAE,GAAGL,KAAK,CAACb,KAAK,CAACmB,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACC,aAAa,KAAKN,EAAE,CAAC;MACxD,IAAIG,EAAE,EAAEA,EAAE,CAACI,YAAY,GAAGN,QAAQ;IACpC;EACF,CAAC;EACDO,aAAaA,CAACC,OAAO,EAAE;IACrBA,OAAO,CACJC,OAAO,CAACtB,iBAAiB,CAACuB,OAAO,EAAGb,KAAK,IAAK;MAC7CA,KAAK,CAACZ,MAAM,GAAG,SAAS;IAC1B,CAAC,CAAC,CACDwB,OAAO,CAACtB,iBAAiB,CAACwB,SAAS,EAAE,CAACd,KAAK,EAAEC,MAAM,KAAK;MACvDD,KAAK,CAACZ,MAAM,GAAG,WAAW;MAC1BY,KAAK,CAACb,KAAK,GAAGc,MAAM,CAACG,OAAO;IAC9B,CAAC,CAAC,CACDQ,OAAO,CAACtB,iBAAiB,CAACyB,QAAQ,EAAE,CAACf,KAAK,EAAEC,MAAM,KAAK;MACtDD,KAAK,CAACZ,MAAM,GAAG,QAAQ;MACvBY,KAAK,CAACX,KAAK,GAAGY,MAAM,CAACZ,KAAK,CAAC2B,OAAO;IACpC,CAAC,CAAC;EACN;AACF,CAAC,CAAC;AAEF,OAAO,MAAM;EAAEjB;AAAY,CAAC,GAAGH,gBAAgB,CAACqB,OAAO;AAEvD,eAAerB,gBAAgB,CAACsB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}